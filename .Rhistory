html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
library(rvest)
library(quantmod)
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
for(i in 1:504){
getSymbols(symbole[i],source = "yahoo",from = "2020-01-01",to="2022-01-31")
}
View(GOOGL)
pobierz_dane
pobierz_dane<- function(){
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31")
getSymbols("BRK-B",source = "yahoo",from = "2020-01-01",to="2022-01-31")
}
pobierz_dane
library(quantmod)
library(rvest)
pobierz_dane<- function(){
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31")
getSymbols("BRK-B",source = "yahoo",from = "2020-01-01",to="2022-01-31")
}
pobierz_dane
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31")
getSymbols("BRK-B",source = "yahoo",from = "2020-01-01",to="2022-01-31")
View(tabela)
View(tabela)
View(tabela)
View(tabela)
View(tabela)
View(tabela)
unique(tabela$`GICS Sector`)
Industrials <- tabela$Symbol[tabela$`GICS Sector`=="Industrials"]
Industrials
Industrials <- tabela$Symbol[tabela$`GICS Sector`=="Industrials"]
View(A)
View(A)
View(AAP)
View(A)
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
View(A)
for (i in 1:(length(symbole))){
assign(symbole[i],as.data.frame(get(symbole[i])))
assign(symbole[i],get(symbole[i])[c(1:504),4])
}
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
tabela$Symbol[65] <- "BRK-B"
tabela$Symbol[81] <- "BF-B" #dokonujemy korekt koniecznych ze względu na różnice w zapisie symboli spółek
symbole <- tabela$Symbol #pobieramy tabelę symboli spółek które nas interesują
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31") #pobieramy dane
nazwy_wierszy<- rownames(A)
symbole1 <- unique(tabela$`GICS Sector`)
Industrials <- tabela$Symbol[tabela$`GICS Sector`=="Industrials"]
`Health Care` <- tabela$Symbol[tabela$`GICS Sector`=="Health Care"]
`Information Technology`<- tabela$Symbol[tabela$`GICS Sector`=="Information Technology"]
`Communication Services` <- tabela$Symbol[tabela$`GICS Sector`=="Communication Services"]
`Consumer Staples` <- tabela$Symbol[tabela$`GICS Sector`=="Consumer Staples"]
`Consumer Discretionary` <- tabela$Symbol[tabela$`GICS Sector`=="Consumer Discretionary"]
Utilities <- tabela$Symbol[tabela$`GICS Sector`=="Utilities"]
Financials <- tabela$Symbol[tabela$`GICS Sector`=="Financials"]
Materials <- tabela$Symbol[tabela$`GICS Sector`=="Materials"]
`Real Estate` <- tabela$Symbol[tabela$`GICS Sector`=="Real Estate"]
Energy <- tabela$Symbol[tabela$`GICS Sector`=="Energy"] #grupujemy dane o spółkach ze względu na ich
for (i in 1:(length(symbole))){
assign(symbole[i],as.data.frame(get(symbole[i])))
assign(symbole[i],get(symbole[i])[c(1:504),4])
}
nazwy_sektorów <-c("przemysł","opieka zdrowotna","IT","usługi komunikacyjne",
"podstawowe produkty konsumenckie","towary luksusowe","media",
"finanse","materiały","nieruchomości","energia")
save.image("C:/Users/krycz/Desktop/projekt erka/proj erka/projekt_R/.RData")
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
assign(nazwy_sektorów[1],do.call("data.frame",as.list(get(symbole1[1]))))
View(przemysł)
assign(nazwy_sektorów[1],do.call("data.frame",as.list(get(get(symbole1[1])))))
get(get(symbole1[1])))
get(get(symbole1[1]))
get(symbole1[1])
as.list(get(symbole1[1]))
get(symbole1[1])
typeof(get(symbole1[1]))
as.vector(get(symbole1[1]))
typeof(as.vector(get(symbole1[1])))
typeof((get(symbole1[1]))
typeof((get(symbole1[1])))
typeof(get(symbole1[1]))
przemysł
przemysł <- data.frame(MMM, AOS, ALK, ALLE, AAL, AME, BA, CHRW, CARR, CAT, CTAS, CPRT, CSX, CMI, DE, DAL, DOV, ETN, EMR,
EFX, EXPD, FAST, FDX, FTV, FBHS, GE, GNRC, GD, GWW, HON, HWM, HII, IEX, ITW, IR, JBHT, J, JCI,
LHX, LDOS, LMT, MAS, NLSN, NDSN, NSC, NOC, ODFL, OTIS, PCAR, PH, PNR, PWR, RTX, RSG, RHI, ROK, ROL,
ROP, SNA, LUV, SWK, TDY, TXT, TT, TDG, UNP, UAL, UPS, URI, VRSK, WAB, WM, XYL)
`opieka zdrowotna`
assign(nazwy_sektorów[2],do.call("data.frame",as.list(get(get(symbole1[2])))))
assign(nazwy_sektorów[2],do.call("data.frame",as.list((get(symbole1[2]))))
assign(nazwy_sektorów[2],do.call("data.frame",as.list((get(symbole1[2])))))
assign(nazwy_sektorów[2],do.call("data.frame",as.list((get(symbole1[2])))))
nazwy_sektorów[2]
`opieka zdrowotna`
`opieka zdrowotna`[1,]
assign(nazwy_sektorów[2],do.call("c",as.list((get(symbole1[2])))))
`opieka zdrowotna`
nazwy_sektorów[2]
`opieka zdrowotna`
x<- nazwy_sektorów[2]
paste(x,sep = " ,",collapse = NULL)
`opieka zdrowotna`
paste(get(x),sep = " ,",collapse = NULL)
paste(get(x),sep =  ,,collapse = NULL)
assign(nazwy_sektorów[2],do.call("c",as.list((get(symbole1[2])))))
x<- nazwy_sektorów[2]
x
paste(`opieka zdrowotna`,sep = " ,",collapse = NULL)
paste(`opieka zdrowotna`,,collapse = ",")
paste(`opieka zdrowotna`,collapse = ",")
paste(`opieka zdrowotna`,collapse = ", ")
assign(nazwy_sektorów[3],do.call("c",as.list((get(symbole1[3])))))
x<- nazwy_sektorów[3]
x
paste(IT,collapse = ", ")
assign(nazwy_sektorów[4],do.call("c",as.list((get(symbole1[4])))))
x<- nazwy_sektorów[4]
x
paste(`usługi komunikacyjne`,collapse = ", ")
assign(nazwy_sektorów[5],do.call("c",as.list((get(symbole1[5])))))
x<- nazwy_sektorów[5]
x
paste(`podstawowe produkty konsumenckie`,collapse = ", ")
T
assign(nazwy_sektorów[6],do.call("c",as.list((get(symbole1[6])))))
x<- nazwy_sektorów[6]
x
paste(`towary luksusowe`,collapse = ", ")
assign(nazwy_sektorów[7],do.call("c",as.list((get(symbole1[7])))))
x<- nazwy_sektorów[7]
x
paste(`media`,collapse = ", ")
media <- data.frame(AES, LNT, AEE, AEP, AWK, ATO, CNP, CMS, ED, CEG, D, DTE, DUK, EIX, ETR, EVRG, ES, EXC, FE, NEE, NI, NRG, PNW, PPL,
PEG, SRE, SO, WEC, XEL)
assign(nazwy_sektorów[8],do.call("c",as.list((get(symbole1[8])))))
x<- nazwy_sektorów[8]
x
paste(`finanse`,collapse = ", ")
assign(nazwy_sektorów[9],do.call("c",as.list((get(symbole1[9])))))
x<- nazwy_sektorów[9]
x
paste(materiały,collapse = ", ")
assign(nazwy_sektorów[10],do.call("c",as.list((get(symbole1[10])))))
x<- nazwy_sektorów[10]
x
paste(nieruchomości,collapse = ", ")
nieruchomości <- data.frame(ARE, AMT, AVB, BXP, CPT, CBRE, CCI, DLR, DRE, EQIX, EQR, ESS, EXR, FRT, PEAK, HST, IRM, KIM, MAA, PLD,
PSA, O, REG, SBAC, SPG, UDR, VTR, VICI, VNO, WELL, WY)
assign(nazwy_sektorów[11],do.call("c",as.list((get(symbole1[11])))))
x<- nazwy_sektorów[11]
x
paste(energia,collapse = ", ")
przemysł <- data.frame(MMM, AOS, ALK, ALLE, AAL, AME, BA, CHRW, CARR, CAT, CTAS, CPRT, CSX, CMI, DE, DAL, DOV, ETN, EMR,
EFX, EXPD, FAST, FDX, FTV, FBHS, GE, GNRC, GD, GWW, HON, HWM, HII, IEX, ITW, IR, JBHT, J, JCI,
LHX, LDOS, LMT, MAS, NLSN, NDSN, NSC, NOC, ODFL, OTIS, PCAR, PH, PNR, PWR, RTX, RSG, RHI, ROK, ROL,
ROP, SNA, LUV, SWK, TDY, TXT, TT, TDG, UNP, UAL, UPS, URI, VRSK, WAB, WM, XYL)
`opieka zdrowotna` <- data.frame(ABT, ABBV, ABMD, A, ALGN, ABC, AMGN, ANTM, BAX, BDX, BIO, TECH, BIIB, BSX, BMY, CAH, CTLT,
CNC, CRL, CI, COO, CVS, DHR, DVA, XRAY, DXCM, EW, GILD, HCA, HSIC, HOLX, HUM, IDXX, ILMN,
INCY, ISRG, IQV, JNJ, LH, LLY, MCK, MDT, MRK, MTD, MRNA, MOH, OGN, PKI, PFE, DGX, REGN, RMD,
STE, SYK, TFX, TMO, UNH, UHS, VRTX, VTRS, WAT, WST, ZBH, ZTS)
IT <- data.frame(ACN, ADBE, ADP, AKAM, AMD, APH, ADI, ANSS, AAPL, AMAT, ANET, ADSK, AVGO, BR, CDNS, CDW, CDAY, CSCO, CTXS, CTSH,
GLW, DXC, ENPH, EPAM, FFIV, FIS, FISV, FLT, FTNT, IT, GPN, HPE, HPQ, INTC, IBM, INTU, IPGP, JKHY, JNPR, KEYS,
KLAC, LRCX, MA, MCHP, MU, MSFT, MPWR, MSI, NTAP, NLOK, NVDA, NXPI, ORCL, PAYX, PAYC, PYPL, PTC, QRVO, QCOM, CRM,
STX, NOW, SWKS, SEDG, SNPS, TEL, TER, TXN, TRMB, TYL, VRSN, V, WDC, ZBRA)
`usługi komunikacyjne` <- data.frame(ATVI, GOOGL, GOOG, T, CHTR, CMCSA, DISH, DIS, EA, FOXA, FOX, IPG, LYV, LUMN, MTCH, META, NFLX,
NWSA, NWS, OMC, PARA, TMUS, TTWO, TWTR, VZ, WBD)
`podstawowe produkty konsumenckie` <- data.frame(ADM, MO, BF-B, CPB, CHD, CLX, KO, CL, CAG, STZ, COST, EL, GIS, HSY, HRL, K, KMB,
KHC, KR, LW, MKC, TAP, MDLZ, MNST, PEP, PM, PG, SJM, SYY, TSN, WBA, WMT)
`podstawowe produkty konsumenckie` <- data.frame(ADM, MO, `BF-B`, CPB, CHD, CLX, KO, CL, CAG, STZ, COST, EL, GIS, HSY, HRL, K, KMB,
KHC, KR, LW, MKC, TAP, MDLZ, MNST, PEP, PM, PG, SJM, SYY, TSN, WBA, WMT)
`towary luksusowe` <- data.frame(AAP, AMZN, APTV, AZO, BBWI, BBY, BKNG, BWA, CZR, KMX, CCL, CMG, DHI, DRI, DG, DLTR, DPZ, EBAY, ETSY,
EXPE, F, GRMN, GPC, GM, HAS, HLT, HD, LVS, LEN, LKQ, LOW, MAR, MCD, MGM, MHK, NWL, NKE, NCLH, NVR,
ORLY, PENN, POOL, PHM, PVH, RL, ROST, RCL, SBUX, TPR, TGT, TSLA, TJX, TSCO, ULTA, UAA, UA, VFC, WHR,
WYNN, YUM)
media <- data.frame(AES, LNT, AEE, AEP, AWK, ATO, CNP, CMS, ED, CEG, D, DTE, DUK, EIX, ETR, EVRG, ES, EXC, FE, NEE, NI, NRG, PNW, PPL,
PEG, SRE, SO, WEC, XEL)
finanse <- data.frame(AFL, AIG, ALL, AXP, AMP, AON, AIZ, BAC, WRB, BRK-B, BLK, BK, BRO, COF, CBOE, SCHW, CB, CINF, C, CFG, CME, CMA,
DFS, RE, FDS, FITB, FRC, BEN, AJG, GL, GS, HIG, HBAN, ICE, IVZ, JPM, KEY, LNC, L, MTB, MKTX, MMC, MET, MCO, MS,
MSCI, NDAQ, NTRS, PNC, PFG, PGR, PRU, RJF, RF, SPGI, SBNY, STT, SIVB, SYF, TROW, TRV, TFC, USB, WFC, WTW, ZION)
finanse <- data.frame(AFL, AIG, ALL, AXP, AMP, AON, AIZ, BAC, WRB, `BRK-B`, BLK, BK, BRO, COF, CBOE, SCHW, CB, CINF, C, CFG, CME, CMA,
DFS, RE, FDS, FITB, FRC, BEN, AJG, GL, GS, HIG, HBAN, ICE, IVZ, JPM, KEY, LNC, L, MTB, MKTX, MMC, MET, MCO, MS,
MSCI, NDAQ, NTRS, PNC, PFG, PGR, PRU, RJF, RF, SPGI, SBNY, STT, SIVB, SYF, TROW, TRV, TFC, USB, WFC, WTW, ZION)
materiały <- data.frame(APD, ALB, AMCR, AVY, BALL, CE, CF, CTVA, DOW, DD, EMN, ECL, FMC, FCX, IP, IFF, LIN, LYB, MLM, MOS, NEM, NUE,
PKG, PPG, SEE, SHW, VMC, WRK)
nieruchomości <- data.frame(ARE, AMT, AVB, BXP, CPT, CBRE, CCI, DLR, DRE, EQIX, EQR, ESS, EXR, FRT, PEAK, HST, IRM, KIM, MAA, PLD,
PSA, O, REG, SBAC, SPG, UDR, VTR, VICI, VNO, WELL, WY)
energia <- data.frame(APA, BKR, CVX, COP, CTRA, DVN, FANG, EOG, XOM, HAL, HES, KMI, MRO, MPC, OXY, OKE, PSX, PXD, SLB, VLO, WMB)
assign(nazwy_sektorów[3],do.call("c",as.list((get(symbole1[3])))))
x<- nazwy_sektorów[3]
x
for(i in 1:length(IT)){
print(length(IT[i]))
}
IT(1)
IT[1]
for(i in 1:length(IT)){
for(i in 1:length(IT)){
for(i in 1:length(IT)){
print(IT[i])
for(i in 1:length(IT)){
print(IT[i])
}
length(IT)
for(i in 1:length(IT)){
print(IT[i])
}
print(length(get(IT[i]))
}
IT[1]
for(i in 1:length(IT)){
x
length(get(IT[1])
IT[1]
assign(nazwy_sektorów[3],do.call("c",as.list((get(symbole1[3])))))
IT[1]
length(get(IT[1])
IT[1]
IT
length(ACN)
length(ADBE)
length(ADP)
length(AKAM)
length(AMD)
length(APH)
length(ADI)
length(ANSS)
length(AAPL)
length(AMAT)
length(ANET)
length(ADSK)
length(AVGO)
length(BR)
length(CDNS)
length(CDNS)
length(CDW)
length(CDAY)
length(CSCO)
length(CTXS)
length(CTSH)
length(GLW)
length(DXC)
length(ENPH)
length(EPAM)
length(FFIV)
length(FIS)
length(FISV)
length(FLT)
length(FTNT)
length(IT)
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
tabela$Symbol[65] <- "BRK-B"
tabela$Symbol[81] <- "BF-B" #dokonujemy korekt koniecznych ze względu na różnice w zapisie symboli spółek
symbole <- tabela$Symbol #pobieramy tabelę symboli spółek które nas interesują
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31") #pobieramy dane
nazwy_wierszy<- rownames(A)
symbole1 <- unique(tabela$`GICS Sector`)
for (i in 1:(length(symbole))){
assign(symbole[i],as.data.frame(get(symbole[i])))
assign(symbole[i],get(symbole[i])[c(1:504),4])
}
przemysł <- data.frame(MMM, AOS, ALK, ALLE, AAL, AME, BA, CHRW, CARR, CAT, CTAS, CPRT, CSX, CMI, DE, DAL, DOV, ETN, EMR,
EFX, EXPD, FAST, FDX, FTV, FBHS, GE, GNRC, GD, GWW, HON, HWM, HII, IEX, ITW, IR, JBHT, J, JCI,
LHX, LDOS, LMT, MAS, NLSN, NDSN, NSC, NOC, ODFL, OTIS, PCAR, PH, PNR, PWR, RTX, RSG, RHI, ROK, ROL,
ROP, SNA, LUV, SWK, TDY, TXT, TT, TDG, UNP, UAL, UPS, URI, VRSK, WAB, WM, XYL)
rownames(przemysł)<- nazwy_wierszy
`opieka zdrowotna` <- data.frame(ABT, ABBV, ABMD, A, ALGN, ABC, AMGN, ANTM, BAX, BDX, BIO, TECH, BIIB, BSX, BMY, CAH, CTLT,
CNC, CRL, CI, COO, CVS, DHR, DVA, XRAY, DXCM, EW, GILD, HCA, HSIC, HOLX, HUM, IDXX, ILMN,
INCY, ISRG, IQV, JNJ, LH, LLY, MCK, MDT, MRK, MTD, MRNA, MOH, OGN, PKI, PFE, DGX, REGN, RMD,
STE, SYK, TFX, TMO, UNH, UHS, VRTX, VTRS, WAT, WST, ZBH, ZTS)
rownames(`opieka zdrowotna`)<- nazwy_wierszy
`branża IT` <- data.frame(ACN, ADBE, ADP, AKAM, AMD, APH, ADI, ANSS, AAPL, AMAT, ANET, ADSK, AVGO, BR, CDNS, CDW, CDAY, CSCO, CTXS, CTSH,
GLW, DXC, ENPH, EPAM, FFIV, FIS, FISV, FLT, FTNT, IT, GPN, HPE, HPQ, INTC, IBM, INTU, IPGP, JKHY, JNPR, KEYS,
KLAC, LRCX, MA, MCHP, MU, MSFT, MPWR, MSI, NTAP, NLOK, NVDA, NXPI, ORCL, PAYX, PAYC, PYPL, PTC, QRVO, QCOM, CRM,
STX, NOW, SWKS, SEDG, SNPS, TEL, TER, TXN, TRMB, TYL, VRSN, V, WDC, ZBRA)
rownames(`branża IT`)<- nazwy_wierszy
`usługi komunikacyjne` <- data.frame(ATVI, GOOGL, GOOG, T, CHTR, CMCSA, DISH, DIS, EA, FOXA, FOX, IPG, LYV, LUMN, MTCH, META, NFLX,
NWSA, NWS, OMC, PARA, TMUS, TTWO, TWTR, VZ, WBD)
rownames(`usługi komunikacyjne`)<- nazwy_wierszy
`podstawowe produkty konsumenckie` <- data.frame(ADM, MO, `BF-B`, CPB, CHD, CLX, KO, CL, CAG, STZ, COST, EL, GIS, HSY, HRL, K, KMB,
KHC, KR, LW, MKC, TAP, MDLZ, MNST, PEP, PM, PG, SJM, SYY, TSN, WBA, WMT)
rownames(`podstawowe produkty konsumenckie`)<- nazwy_wierszy
`towary luksusowe` <- data.frame(AAP, AMZN, APTV, AZO, BBWI, BBY, BKNG, BWA, CZR, KMX, CCL, CMG, DHI, DRI, DG, DLTR, DPZ, EBAY, ETSY,
EXPE, F, GRMN, GPC, GM, HAS, HLT, HD, LVS, LEN, LKQ, LOW, MAR, MCD, MGM, MHK, NWL, NKE, NCLH, NVR,
ORLY, PENN, POOL, PHM, PVH, RL, ROST, RCL, SBUX, TPR, TGT, TSLA, TJX, TSCO, ULTA, UAA, UA, VFC, WHR,
WYNN, YUM)
rownames(`towary luksusowe`)<- nazwy_wierszy
media <- data.frame(AES, LNT, AEE, AEP, AWK, ATO, CNP, CMS, ED, CEG, D, DTE, DUK, EIX, ETR, EVRG, ES, EXC, FE, NEE, NI, NRG, PNW, PPL,
PEG, SRE, SO, WEC, XEL)
rownames(media)<- nazwy_wierszy
finanse <- data.frame(AFL, AIG, ALL, AXP, AMP, AON, AIZ, BAC, WRB, `BRK-B`, BLK, BK, BRO, COF, CBOE, SCHW, CB, CINF, C, CFG, CME, CMA,
DFS, RE, FDS, FITB, FRC, BEN, AJG, GL, GS, HIG, HBAN, ICE, IVZ, JPM, KEY, LNC, L, MTB, MKTX, MMC, MET, MCO, MS,
MSCI, NDAQ, NTRS, PNC, PFG, PGR, PRU, RJF, RF, SPGI, SBNY, STT, SIVB, SYF, TROW, TRV, TFC, USB, WFC, WTW, ZION)
rownames(finanse)<- nazwy_wierszy
materiały <- data.frame(APD, ALB, AMCR, AVY, BALL, CE, CF, CTVA, DOW, DD, EMN, ECL, FMC, FCX, IP, IFF, LIN, LYB, MLM, MOS, NEM, NUE,
PKG, PPG, SEE, SHW, VMC, WRK)
rownames(materiały)<- nazwy_wierszy
nieruchomości <- data.frame(ARE, AMT, AVB, BXP, CPT, CBRE, CCI, DLR, DRE, EQIX, EQR, ESS, EXR, FRT, PEAK, HST, IRM, KIM, MAA, PLD,
PSA, O, REG, SBAC, SPG, UDR, VTR, VICI, VNO, WELL, WY)
rownames(nieruchomości)<- nazwy_wierszy
energia <- data.frame(APA, BKR, CVX, COP, CTRA, DVN, FANG, EOG, XOM, HAL, HES, KMI, MRO, MPC, OXY, OKE, PSX, PXD, SLB, VLO, WMB)
rownames(energia)<- nazwy_wierszy
load("C:/Users/krycz/Desktop/projekt erka/proj erka/projekt_R/.RData")
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
tabela$Symbol[65] <- "BRK-B"
tabela$Symbol[81] <- "BF-B" #dokonujemy korekt koniecznych ze względu na różnice w zapisie symboli spółek
symbole <- tabela$Symbol #pobieramy tabelę symboli spółek które nas interesują
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31") #pobieramy dane
nazwy_wierszy<- rownames(A)
for (i in 1:(length(symbole))){
assign(symbole[i],as.data.frame(get(symbole[i])))
assign(symbole[i],get(symbole[i])[c(1:504),4])
}
przemysł <- data.frame(MMM, AOS, ALK, ALLE, AAL, AME, BA, CHRW, CARR, CAT, CTAS, CPRT, CSX, CMI, DE, DAL, DOV, ETN, EMR,
EFX, EXPD, FAST, FDX, FTV, FBHS, GE, GNRC, GD, GWW, HON, HWM, HII, IEX, ITW, IR, JBHT, J, JCI,
LHX, LDOS, LMT, MAS, NLSN, NDSN, NSC, NOC, ODFL, OTIS, PCAR, PH, PNR, PWR, RTX, RSG, RHI, ROK, ROL,
ROP, SNA, LUV, SWK, TDY, TXT, TT, TDG, UNP, UAL, UPS, URI, VRSK, WAB, WM, XYL)
rownames(przemysł)<- nazwy_wierszy
`opieka zdrowotna` <- data.frame(ABT, ABBV, ABMD, A, ALGN, ABC, AMGN, ANTM, BAX, BDX, BIO, TECH, BIIB, BSX, BMY, CAH, CTLT,
CNC, CRL, CI, COO, CVS, DHR, DVA, XRAY, DXCM, EW, GILD, HCA, HSIC, HOLX, HUM, IDXX, ILMN,
INCY, ISRG, IQV, JNJ, LH, LLY, MCK, MDT, MRK, MTD, MRNA, MOH, OGN, PKI, PFE, DGX, REGN, RMD,
STE, SYK, TFX, TMO, UNH, UHS, VRTX, VTRS, WAT, WST, ZBH, ZTS)
rownames(`opieka zdrowotna`)<- nazwy_wierszy
`branża IT` <- data.frame(ACN, ADBE, ADP, AKAM, AMD, APH, ADI, ANSS, AAPL, AMAT, ANET, ADSK, AVGO, BR, CDNS, CDW, CDAY, CSCO, CTXS, CTSH,
GLW, DXC, ENPH, EPAM, FFIV, FIS, FISV, FLT, FTNT, IT, GPN, HPE, HPQ, INTC, IBM, INTU, IPGP, JKHY, JNPR, KEYS,
KLAC, LRCX, MA, MCHP, MU, MSFT, MPWR, MSI, NTAP, NLOK, NVDA, NXPI, ORCL, PAYX, PAYC, PYPL, PTC, QRVO, QCOM, CRM,
STX, NOW, SWKS, SEDG, SNPS, TEL, TER, TXN, TRMB, TYL, VRSN, V, WDC, ZBRA)
rownames(`branża IT`)<- nazwy_wierszy
`usługi komunikacyjne` <- data.frame(ATVI, GOOGL, GOOG, T, CHTR, CMCSA, DISH, DIS, EA, FOXA, FOX, IPG, LYV, LUMN, MTCH, META, NFLX,
NWSA, NWS, OMC, PARA, TMUS, TTWO, TWTR, VZ, WBD)
rownames(`usługi komunikacyjne`)<- nazwy_wierszy
`podstawowe produkty konsumenckie` <- data.frame(ADM, MO, `BF-B`, CPB, CHD, CLX, KO, CL, CAG, STZ, COST, EL, GIS, HSY, HRL, K, KMB,
KHC, KR, LW, MKC, TAP, MDLZ, MNST, PEP, PM, PG, SJM, SYY, TSN, WBA, WMT)
rownames(`podstawowe produkty konsumenckie`)<- nazwy_wierszy
`towary luksusowe` <- data.frame(AAP, AMZN, APTV, AZO, BBWI, BBY, BKNG, BWA, CZR, KMX, CCL, CMG, DHI, DRI, DG, DLTR, DPZ, EBAY, ETSY,
EXPE, F, GRMN, GPC, GM, HAS, HLT, HD, LVS, LEN, LKQ, LOW, MAR, MCD, MGM, MHK, NWL, NKE, NCLH, NVR,
ORLY, PENN, POOL, PHM, PVH, RL, ROST, RCL, SBUX, TPR, TGT, TSLA, TJX, TSCO, ULTA, UAA, UA, VFC, WHR,
WYNN, YUM)
rownames(`towary luksusowe`)<- nazwy_wierszy
media <- data.frame(AES, LNT, AEE, AEP, AWK, ATO, CNP, CMS, ED, CEG, D, DTE, DUK, EIX, ETR, EVRG, ES, EXC, FE, NEE, NI, NRG, PNW, PPL,
PEG, SRE, SO, WEC, XEL)
rownames(media)<- nazwy_wierszy
finanse <- data.frame(AFL, AIG, ALL, AXP, AMP, AON, AIZ, BAC, WRB, `BRK-B`, BLK, BK, BRO, COF, CBOE, SCHW, CB, CINF, C, CFG, CME, CMA,
DFS, RE, FDS, FITB, FRC, BEN, AJG, GL, GS, HIG, HBAN, ICE, IVZ, JPM, KEY, LNC, L, MTB, MKTX, MMC, MET, MCO, MS,
MSCI, NDAQ, NTRS, PNC, PFG, PGR, PRU, RJF, RF, SPGI, SBNY, STT, SIVB, SYF, TROW, TRV, TFC, USB, WFC, WTW, ZION)
rownames(finanse)<- nazwy_wierszy
materiały <- data.frame(APD, ALB, AMCR, AVY, BALL, CE, CF, CTVA, DOW, DD, EMN, ECL, FMC, FCX, IP, IFF, LIN, LYB, MLM, MOS, NEM, NUE,
PKG, PPG, SEE, SHW, VMC, WRK)
rownames(materiały)<- nazwy_wierszy
nieruchomości <- data.frame(ARE, AMT, AVB, BXP, CPT, CBRE, CCI, DLR, DRE, EQIX, EQR, ESS, EXR, FRT, PEAK, HST, IRM, KIM, MAA, PLD,
PSA, O, REG, SBAC, SPG, UDR, VTR, VICI, VNO, WELL, WY)
rownames(nieruchomości)<- nazwy_wierszy
energia <- data.frame(APA, BKR, CVX, COP, CTRA, DVN, FANG, EOG, XOM, HAL, HES, KMI, MRO, MPC, OXY, OKE, PSX, PXD, SLB, VLO, WMB)
rownames(energia)<- nazwy_wierszy
load("C:/Users/krycz/Desktop/projekt erka/proj erka/projekt_R/.RData")
