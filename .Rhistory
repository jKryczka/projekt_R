html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
library(rvest)
library(quantmod)
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
for(i in 1:504){
getSymbols(symbole[i],source = "yahoo",from = "2020-01-01",to="2022-01-31")
}
View(GOOGL)
pobierz_dane
pobierz_dane<- function(){
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31")
getSymbols("BRK-B",source = "yahoo",from = "2020-01-01",to="2022-01-31")
}
pobierz_dane
library(quantmod)
library(rvest)
pobierz_dane<- function(){
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31")
getSymbols("BRK-B",source = "yahoo",from = "2020-01-01",to="2022-01-31")
}
pobierz_dane
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
symbole <- tabela$Symbol
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31")
getSymbols("BRK-B",source = "yahoo",from = "2020-01-01",to="2022-01-31")
View(tabela)
View(tabela)
View(tabela)
View(tabela)
View(tabela)
View(tabela)
unique(tabela$`GICS Sector`)
Industrials <- tabela$Symbol[tabela$`GICS Sector`=="Industrials"]
Industrials
Industrials <- tabela$Symbol[tabela$`GICS Sector`=="Industrials"]
View(A)
View(A)
View(AAP)
View(A)
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
View(A)
for (i in 1:(length(symbole))){
assign(symbole[i],as.data.frame(get(symbole[i])))
assign(symbole[i],get(symbole[i])[c(1:504),4])
}
library(quantmod) #biblioteka za pomocą której pobieramy dane
library(rvest) #biblioteka którą wykorzystujemy do webscrapingu
html1 <-read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies")
ht<-html_table(html1)
tabela<-ht[[1]]
tabela$Symbol[65] <- "BRK-B"
tabela$Symbol[81] <- "BF-B" #dokonujemy korekt koniecznych ze względu na różnice w zapisie symboli spółek
symbole <- tabela$Symbol #pobieramy tabelę symboli spółek które nas interesują
getSymbols(symbole,source = "yahoo",from = "2020-01-01",to="2022-01-31") #pobieramy dane
nazwy_wierszy<- rownames(A)
symbole1 <- unique(tabela$`GICS Sector`)
Industrials <- tabela$Symbol[tabela$`GICS Sector`=="Industrials"]
`Health Care` <- tabela$Symbol[tabela$`GICS Sector`=="Health Care"]
`Information Technology`<- tabela$Symbol[tabela$`GICS Sector`=="Information Technology"]
`Communication Services` <- tabela$Symbol[tabela$`GICS Sector`=="Communication Services"]
`Consumer Staples` <- tabela$Symbol[tabela$`GICS Sector`=="Consumer Staples"]
`Consumer Discretionary` <- tabela$Symbol[tabela$`GICS Sector`=="Consumer Discretionary"]
Utilities <- tabela$Symbol[tabela$`GICS Sector`=="Utilities"]
Financials <- tabela$Symbol[tabela$`GICS Sector`=="Financials"]
Materials <- tabela$Symbol[tabela$`GICS Sector`=="Materials"]
`Real Estate` <- tabela$Symbol[tabela$`GICS Sector`=="Real Estate"]
Energy <- tabela$Symbol[tabela$`GICS Sector`=="Energy"] #grupujemy dane o spółkach ze względu na ich
for (i in 1:(length(symbole))){
assign(symbole[i],as.data.frame(get(symbole[i])))
assign(symbole[i],get(symbole[i])[c(1:504),4])
}
nazwy_sektorów <-c("przemysł","opieka zdrowotna","IT","usługi komunikacyjne",
"podstawowe produkty konsumenckie","towary luksusowe","media",
"finanse","materiały","nieruchomości","energia")
save.image("C:/Users/krycz/Desktop/projekt erka/proj erka/projekt_R/.RData")
